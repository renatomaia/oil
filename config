# == CHANGE THE SETTINGS BELOW TO SUIT YOUR ENVIRONMENT =======================

LUA_HOME= /usr/local
LUA_INC= $(LUA_HOME)/include
LUA_LIB= $(LUA_HOME)/lib
LUA_BIN= $(LUA_HOME)/bin

# Where to install. The installation starts in the src directory, so take care
# if INSTALL_TOP is not an absolute path. (Man pages are installed from the
# doc directory.)
#
INSTALL_TOP= $(LUA_HOME)
INSTALL_BIN= $(INSTALL_TOP)/bin
INSTALL_INC= $(INSTALL_TOP)/include
INSTALL_LIB= $(INSTALL_TOP)/lib
INSTALL_LMOD= $(INSTALL_TOP)/share/lua/5.1
INSTALL_CMOD= $(INSTALL_TOP)/lib/lua/5.1

# How to install. You may prefer "install" instead of "cp" if you have it.
# To remove debug information from binaries, use "install -s" in INSTALL_EXEC.
#
INSTALL_EXEC= cp -r
INSTALL_DATA= cp -r
#INSTALL_EXEC= install -m 0755
#INSTALL_DATA= install -m 0644

# If you are using Lua-5.0.2 then uncomment the following line to include the
# compatibility module.
#
#COMPAT_51= compat-5.1.o
#INSTALL_LMOD= $(INSTALL_TOP)/share/lua/5.0
#INSTALL_CMOD= $(INSTALL_TOP)/lib/lua/5.0
#LUAINTFLAGS= -lcompat-5.1.lua
#MYCFLAGS= -DCOMPAT_51
#MYLIBS= -llualib

MYLDFLAGS=

# == END OF USER SETTINGS. NO NEED TO CHANGE ANYTHING BELOW THIS LINE =========

# Your platform. See PLATS for possible values.
PLAT= none

# Convenience platforms targets.
PLATS= linux macosx

CC= gcc
CFLAGS= -O2 -Wall -I$(LUA_INC) $(MYCFLAGS)
LDFLAGS= -L$(LUA_LIB) $(MYLDFLAGS)
AR= ar rcu
RANLIB= ranlib
RM= rm -f
LIBS= -lm -ldl -llua $(MYLIBS)

V= 0.3

LUAINT= $(LUA_BIN)/lua $(LUAINTFLAGS)

# Flags for pre-compilation of Lua scripts
PC_FLAGS= -p OIL_API
# Flags for generation of pre-loader of Lua scripts
PLD_FLAGS= -p OIL_API
