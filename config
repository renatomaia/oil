# == CHANGE THE SETTINGS BELOW TO SUIT YOUR ENVIRONMENT =======================

LUA_HOME= /usr/local
#LUA_HOME= /home/l/maia/apps/lua-5.1a
LUA_INC= $(LUA_HOME)/include
LUA_LIB= $(LUA_HOME)/lib
LUA_BIN= $(LUA_HOME)/bin

# Where to install. The installation starts in the src directory, so take care
# if INSTALL_TOP is not an absolute path. (Man pages are installed from the
# doc directory.)
#
INSTALL_TOP= $(LUA_HOME)
INSTALL_BIN= $(INSTALL_TOP)/bin
INSTALL_INC= $(INSTALL_TOP)/include
INSTALL_LIB= $(INSTALL_TOP)/lib
INSTALL_CMOD= $(INSTALL_TOP)/lib/lua/5.1
INSTALL_LMOD= $(INSTALL_TOP)/share/lua/5.1

# How to install. You may prefer "install" instead of "cp" if you have it.
# To remove debug information from binaries, use "install -s" in INSTALL_EXEC.
#
INSTALL_EXEC= cp -r
INSTALL_DATA= cp -r
#INSTALL_EXEC= install -m 0755
#INSTALL_DATA= install -m 0644

#compilation for macosx
MYLDFLAGS=-bundle -undefined dynamic_lookup 
LD=export MACOSX_DEPLOYMENT_TARGET="10.4"; gcc

# == END OF USER SETTINGS. NO NEED TO CHANGE ANYTHING BELOW THIS LINE =========
V= 0.3

CC= gcc
CFLAGS= -O2 -Wall -I$(LUA_INC) $(MYCFLAGS)
LDFLAGS= -L$(LUA_LIB) $(MYLDFLAGS)
AR= ar rcu
RANLIB= ranlib
RM= rm -f
LIBS= -lm -ldl -llua $(MYLIBS)

LUAINT= $(LUA_BIN)/lua

# Flags for pre-compilation of Lua scripts
PC_FLAGS= -p OIL_API
# Flags for generation of pre-loader of Lua scripts
PLD_FLAGS= -p OIL_API
